{"version":3,"sources":["layouts/EditLayout/index.tsx","pages/NotCardPage/index.tsx","svg/icon.png","pages/UserPage/index.tsx","svg/reader.svg","pages/NotDevicePage/index.tsx","context/webSocket/index.ts","App.tsx","index.tsx"],"names":["useStyles","makeStyles","theme","createStyles","root","position","top","left","right","bottom","display","alignItems","justifyContent","EditLayout","children","classes","className","wrapper","height","width","backgroundColor","boxShadow","img","marginRight","spacing","flex","rightBorder","borderRight","info","marginLeft","item","marginTop","NotCardPage","Skeleton","variant","Badge","badgeContent","color","standartItem","border","bigItem","bigItemText","fontSize","margin","coin","UserPage","user","React","useState","setColor","useEffect","points","Avatar","src","alt","Typography","name","last_name","city","id","logo","chip","borderBottom","NotDevicePage","Chip","label","Reader","ws","WebSocket","wsContext","createContext","App","useContext","status","setStatus","setStatusText","setUser","onopen","onclose","onmessage","msg","statusText","JSON","parse","data","userData","hasOwnProperty","length","CircularProgress","getComponent","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.c10ac19e.chunk.js","sourcesContent":["import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport { EditLayoutI } from './EditLayout.model';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    root: {\n      position: 'absolute',\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n  })\n);\n\nfunction EditLayout({ children }: EditLayoutI) {\n  const classes = useStyles();\n\n  return <div className={classes.root}>{children}</div>;\n}\n\nexport default EditLayout;\n","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport Skeleton from '@material-ui/lab/Skeleton';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      height: '60vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '70vh',\n      backgroundColor: 'rgba(255, 255, 255, 0.8)',\n      boxShadow: '0 0 10px 10px #fff',\n    },\n    img: {\n      marginRight: theme.spacing(2),\n    },\n    flex: {\n      display: 'flex',\n    },\n    rightBorder: {\n      borderRight: '2px solid black',\n      display: 'flex',\n      alignItems: 'center',\n    },\n    info: {\n      marginLeft: theme.spacing(2),\n    },\n    item: {\n      marginTop: theme.spacing(2),\n    },\n  })\n);\n\nfunction NotCardPage() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.flex}>\n        <div className={classes.rightBorder}>\n          <Skeleton\n            variant=\"circle\"\n            width={250}\n            height={250}\n            className={classes.img}\n          />\n        </div>\n        <div className={classes.info}>\n          <div className={classes.item}>\n            <Badge badgeContent=\"Имя\" color=\"secondary\">\n              <Skeleton variant=\"text\" width={200} height={50} />\n            </Badge>\n          </div>\n          <div className={classes.item}>\n            <Badge badgeContent=\"Фамилия\" color=\"secondary\">\n              <Skeleton variant=\"text\" width={200} height={50} />\n            </Badge>\n          </div>\n          <div className={classes.item}>\n            <Badge badgeContent=\"Город\" color=\"primary\">\n              <Skeleton variant=\"text\" width={200} height={50} />\n            </Badge>\n          </div>\n          <div className={classes.item}>\n            <Badge badgeContent=\"Баланс\" color=\"error\">\n              <Skeleton variant=\"rect\" width={200} height={90} />\n            </Badge>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default NotCardPage;\n","export default __webpack_public_path__ + \"static/media/icon.3c4952bf.png\";","import React from 'react';\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles';\nimport Badge from '@material-ui/core/Badge';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { UserI } from '../../App';\nimport logo from '../../svg/icon.png';\n\ntype UserPageType = {\n  user: UserI;\n};\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      height: '60vh',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n      width: '70vh',\n      backgroundColor: 'rgba(255, 255, 255, 0.8)',\n      boxShadow: '0 0 10px 10px #fff',\n    },\n    img: {\n      width: 250,\n      height: 250,\n      marginRight: theme.spacing(2),\n    },\n    flex: {\n      display: 'flex',\n    },\n    rightBorder: {\n      borderRight: '2px solid black',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    info: {\n      marginLeft: theme.spacing(2),\n    },\n    item: {\n      marginTop: theme.spacing(2),\n    },\n    standartItem: {\n      width: 200,\n      height: 50,\n      border: '2px solid black',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    bigItem: {\n      width: 185,\n      height: 90,\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    bigItemText: {\n      fontSize: 30,\n      margin: theme.spacing(1),\n    },\n    coin: {\n      border: '2px solid #000',\n    },\n  })\n);\n\nfunction UserPage({ user }: UserPageType) {\n  const classes = useStyles();\n\n  const [color, setColor] = React.useState<string>('border-gradient-rare');\n\n  React.useEffect(() => {\n    if (user.points < 1000) {\n      setColor('border-gradient-rare');\n    }\n    if (user.points >= 1000 && user.points < 2000) {\n      setColor('border-gradient-silver');\n    }\n    if (user.points >= 2000 && user.points < 3000) {\n      setColor('border-gradient-gold');\n    }\n    if (user.points >= 3000) {\n      setColor('border-gradient-top');\n    }\n  }, []);\n\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.flex}>\n        <div className={classes.rightBorder}>\n          <Avatar\n            src={`http://localhost:8888/images/${user.img}`}\n            className={classes.img}\n            alt=\"User image\"\n          />\n        </div>\n        <div className={classes.info}>\n          <div>\n            <div className={classes.item}>\n              <Badge badgeContent=\"Имя\" color=\"secondary\">\n                <Typography className={classes.standartItem}>\n                  {user.name}\n                </Typography>\n              </Badge>\n            </div>\n            <div className={classes.item}>\n              <Badge badgeContent=\"Фамилия\" color=\"secondary\">\n                <Typography className={classes.standartItem}>\n                  {user.last_name}\n                </Typography>\n              </Badge>\n            </div>\n            <div className={classes.item}>\n              <Badge badgeContent=\"Город\" color=\"primary\">\n                <Typography className={classes.standartItem}>\n                  {user.city}\n                </Typography>\n              </Badge>\n            </div>\n            <div className={classes.item}>\n              <Badge badgeContent=\"Баланс\" color=\"error\">\n                <div className={classes.bigItem} id={color}>\n                  <p className={classes.bigItemText}>{user.points}</p>\n                  <Avatar alt=\"Coin image\" src={logo} className={classes.coin}>\n                    ?\n                  </Avatar>\n                </div>\n              </Badge>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default UserPage;\n","export default __webpack_public_path__ + \"static/media/reader.c56d690f.svg\";","import React from 'react';\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles';\nimport Chip from '@material-ui/core/Chip';\nimport Reader from '../../svg/reader.svg';\n\nconst useStyles = makeStyles((theme: Theme) =>\n  createStyles({\n    wrapper: {\n      width: '60vh',\n    },\n    flex: {\n      width: '100%',\n      display: 'flex',\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    chip: {\n      height: '40px',\n      fontSize: 15,\n    },\n    border: {\n      margin: theme.spacing(2),\n      borderBottom: '2px solid #fff',\n    },\n  })\n);\n\nfunction NotDevicePage() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.wrapper}>\n      <div className={classes.flex}>\n        <Chip\n          className={classes.chip}\n          color=\"default\"\n          label=\"Пожалуйста подключите NFC считыватель\"\n        />\n      </div>\n      <div className={classes.border}></div>\n      <div className={classes.flex}>\n        <img src={Reader} alt=\"Reader\" />\n      </div>\n    </div>\n  );\n}\n\nexport default NotDevicePage;\n","import React from 'react';\n\nconst ws: WebSocket = new WebSocket(`ws://localhost:8000`);\n\nconst wsContext = React.createContext<WebSocket>(ws);\n\nconst GetWSStatus = (): WebSocket => {\n  return React.useContext<WebSocket>(wsContext);\n};\n\nexport { GetWSStatus };\n","import React from 'react';\nimport EditLayout from './layouts/EditLayout';\nimport NotCardPage from './pages/NotCardPage';\nimport UserPage from './pages/UserPage';\nimport NotDevicePage from './pages/NotDevicePage';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { GetWSStatus } from './context/webSocket';\n\nexport interface UserI {\n  name: string;\n  last_name: string;\n  city: string;\n  points: number;\n  img: string;\n}\n\nfunction App() {\n  const ws = GetWSStatus();\n  const [status, setStatus] = React.useState<string>('disconnected');\n  const [statusText, setStatusText] = React.useState<string>('');\n  const [user, setUser] = React.useState<UserI>({\n    name: '',\n    last_name: '',\n    city: '',\n    points: 0,\n    img: '',\n  });\n\n  ws.onopen = () => setStatus('connected');\n  ws.onclose = () => setStatus('disconnected');\n  ws.onmessage = (msg) => {\n    const statusText = JSON.parse(msg.data).statusText;\n    const userData = JSON.parse(msg.data).userData;\n\n    if (statusText) setStatusText(statusText);\n    if (\n      userData &&\n      userData.name &&\n      userData.last_name &&\n      userData.city &&\n      userData.hasOwnProperty('points') &&\n      userData.img\n    ) {\n      setUser(userData);\n    } else {\n      setUser({\n        name: '',\n        last_name: '',\n        city: '',\n        points: 0,\n        img: '',\n      });\n    }\n\n    setStatus(JSON.parse(msg.data).status);\n  };\n\n  const getUserPage = (): React.ReactNode => {\n    if (user.name.length === 0) {\n      return <NotCardPage />;\n    } else return <UserPage user={user} />;\n  };\n\n  const getComponent = (): React.ReactNode => {\n    switch (status) {\n      case 'connected':\n        return <NotDevicePage />;\n      case 'device_connected':\n        return <NotCardPage />;\n      case 'card_connected':\n        return getUserPage();\n      case 'error':\n        return <NotCardPage />;\n      case 'disconnected':\n      default:\n        return <CircularProgress />;\n    }\n  };\n\n  return (\n    <>\n      <div id=\"particles-js\"></div>\n      <EditLayout>{getComponent()}</EditLayout>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}